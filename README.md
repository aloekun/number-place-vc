# ナンバープレース (Number Place / Sudoku)

Webベースのナンバープレース（数独）ゲームアプリケーションです。自動問題生成機能、候補数字（ペンシルマーク）機能、パズル共有機能など、充実した機能を備えています。<br>
<br>
このプロジェクトは、Claude Code のバイブコーディングで作りました。

## 🎮 デモ

ブラウザで直接プレイできます。サーバーを起動してアクセスしてください。

## ✨ 機能

### 基本機能
- **自動問題生成**: 一意解を持つ正しいパズルを自動生成
- **リアルタイム検証**: 入力時に即座にルール違反を視覚的に表示
- **操作履歴**: 元に戻す（Undo）機能
- **タイマー**: プレイ時間の計測

### 高度な機能
- **候補数字（ペンシルマーク）**: 各マスに可能な数字を小さく記録
- **自動候補削除**: 数字入力時に関連する候補を自動的に削除
- **数字使用状況表示**: 各数字の使用数（9個中何個使用済み）を表示
- **盤面保存・復元**: プレイ中の状態を保存して後で復元
- **一時停止**: 盤面を隠してタイマーを停止
- **パズル共有（呪文システム）**: パズルを文字列化して他の人と共有

### 操作方法
- **通常入力モード**: 数字を選択してからマスをクリック
- **候補入力モード**: 切り替えボタンで候補入力モードに変更
- **キーボードショートカット**:
  - `1-9`: 数字選択
  - `Delete/Backspace/0`: 消去
  - `Escape`: 選択解除
  - `C`: 入力モード切り替え

## 🚀 セットアップ

### 必要環境
- Node.js (v14以上)
- npm

### インストール
```bash
# リポジトリのクローン
git clone https://github.com/yourusername/number-place-vc.git
cd number-place-vc

# 依存関係のインストール
npm install
```

### 開発サーバーの起動
```bash
# 方法1: Node.jsサーバー（推奨）
npm start

# 方法2: http-server
npm run serve

# 方法3: Python（Python 3がインストールされている場合）
npm run serve:python
```

ブラウザで `http://localhost:3100` にアクセスしてください。

## 🧪 テスト

```bash
# 全テストの実行
npm test

# カバレッジレポート付きテスト
npm run test:coverage

# Lintチェック
npm run lint
```

## 📁 プロジェクト構造

```
number-place-vc/
├── index.html          # メインHTMLファイル
├── server.js           # 開発用サーバー
├── styles/
│   └── main.css       # スタイルシート
├── src/
│   └── js/
│       ├── app.js     # アプリケーションエントリーポイント
│       ├── models/    # データモデル
│       │   ├── Grid.js
│       │   ├── RuleEngine.js
│       │   ├── PuzzleGenerator.js
│       │   └── GameState.js
│       └── controllers/
│           └── UIController.js
└── tests/             # テストファイル
```

## 🏗️ アーキテクチャ

このアプリケーションはMVC（Model-View-Controller）パターンで構築されています：

- **Model**: ゲームロジックとデータ管理（Grid、GameState、RuleEngine）
- **View**: HTML/CSSによるUI表示
- **Controller**: ユーザー入力の処理とModelとViewの仲介（UIController）

### 主要コンポーネント

- **Grid**: 9×9のグリッドデータ構造と候補数字管理
- **RuleEngine**: ナンバープレースのルール検証
- **PuzzleGenerator**: バックトラッキングアルゴリズムによるパズル生成
- **GameState**: ゲーム状態、履歴、タイマー管理
- **UIController**: UI操作とイベントハンドリング

## 🤝 コントリビューション

プルリクエストを歓迎します。大きな変更の場合は、まずイシューを作成して変更内容について議論してください。<br>
<br>
プルリクエストは必ずしもすべてを反映しないので、ご理解・ご了承ください。

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細は[LICENSE](LICENSE)ファイルを参照してください。

## 🙏 謝辞

このプロジェクトは、ナンバープレース（数独）を楽しむすべての人々のために作られました。